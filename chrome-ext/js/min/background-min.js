function showPageAction(t){chrome.pageAction.show(t.id)}chrome.runtime.onInstalled.addListener((function(){})),chrome.runtime.onMessage.addListener((function(t,n,e){switch(t.type){case"fetch":return fetch(t.content.input,t.content.init).then((function(t){return t.text().then((function(n){e([{body:n,status:t.status,statusText:t.statusText},null])}))}),(function(t){e([null,t])})),!0;case"fetchimg":return fetch(t.content.input,t.content.init).then((function(t){return t.blob().then((function(n){e([{body:n,status:t.status,statusText:t.statusText},null])}))}),(function(t){e([null,t])})),!0}return!0})),chrome.extension.onMessage.addListener((function(t,n,e){"activate_icon"===t.message&&chrome.pageAction.show(n.tab.id)})),chrome.tabs.onUpdated.addListener((function(t,n,e){showPageAction(e)})),chrome.tabs.onActivated.addListener((function(t,n,e){setTimeout((function(){chrome.tabs.query({currentWindow:!0,active:!0},(function(t){t[0]&&showPageAction(t[0])}))}),100)}));